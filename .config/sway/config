# see: /etc/sway/config - man sway

# debug: see if using xwayland
# for_window [shell=".*"] title_format "%title :: %shell"

### NOTES
#
# Migration from Gnome to Sway, first time so still tweaking
# currently using the following:
#   - !~bash_profile:
#     - auto-started on tty1
#     - logged to journalctl
#   - swaybg: (systemd --user)
#   - swayidle: (systemd --user)
#   - waybar: (systemd --user)
#   - thunar: (systemd --user)
#   - mako: (systemd --user)
#   - wofi: (sway exec)
#   - swaylock: (sway exec)
#   - grimshot: (sway exec)
#   - kyz: valume, mic, brightness (~/.local/bin/)
#   - xsettingsd: for gtk theme (systemd --user)
#   !~ redshift-gtk: (systemd)
#       !! switch to 'gammastep'
#   !~  swaynag
#
# TODO:
#   - clamshell mode
#   - test hdmi output
#   - move gsettings from this file to systemd? or create .ini file?
#       see: https://github.com/swaywm/sway/wiki/GTK-3-settings-on-Wayland
#   - fonts, and optimal settings (lcd/etc)
#   - backup update w/ new .config
#   - full GTK: https://wiki.archlinux.org/index.php/GTK#Configuration_tools


### Variables
#
set $Super Mod4
set $Alt Mod1

# custom includes, depend on variables above
include *.conf

### Default Applications
#
set $term kitty
set $menu rofi -show drun
set $laptop_screen 'ePD-1'

output ePD-1 subpixel rgb
bindswitch --reload --locked lid:on output $laptop_screen disable
bindswitch --reload --locked lid:off output $laptop_screen enable

### Input configuration
#
input type:keyboard {
  xkb_layout us
  xkb_variant altgr-intl
}
input type:touchpad {
  dwt enabled
  tap enabled
  natural_scroll enabled
}
input type:pointer {
  natural_scroll enabled
}

exec_always --no-startup-id flashfocus
exec_always waygsettings \
    gtk-theme:gtk-theme-name \
    icon-theme:gtk-icon-theme-name \
    font-name:gtk-font-name
}

# options passed in to override config
exec swayidle -w before-sleep 'swaylock --fade-in 0 --grace 0' 

# systemd
exec "systemctl --user import-environment; systemctl --user start sway-session.target"

include /etc/sway/config.d/*
