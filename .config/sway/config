# see: /etc/sway/config - man sway

# debug: see if using xwayland only works on titlebar, not waybar/title
# for_window [shell=".*"] title_format "%shell :: %title"
# 
# NOTE: swayidle, swaybg using systemd
# NOTE: for GTK themes, check ~/.xsettingsd as well

### Variables
#
set $Super Mod4
set $Alt Mod1
set $output_laptop 'eDP-1'
set $output_hdmi 'HDMI-A-1'

### Default Applications
#
set $term kitty
set $menu rofi -show drun

set $mode_def "default"
set $mode_resize "ïŒž - resize"

# custom includes, depend on variables above
include windows.conf
include keys_custom.conf
include keys_default.conf

### Inputs/Outputs
#
# 
output $output_laptop subpixel rgb

# NOTE: clamshell mode note required, done in hw

# Inputs
input type:keyboard {
  xkb_layout us
  xkb_variant altgr-intl
}
input type:touchpad {
  natural_scroll enabled
  dwt enabled # disable-while-typing
  tap enabled
}
input type:pointer {
  natural_scroll enabled
  # scroll_factor 2
}

# NOTE: only real use of having this is for whenever a theme is changed, this
# 		way a reload should update... but not sure how much this is helping
exec_always waygsettings \
  gtk-theme:gtk-theme-name \
  icon-theme:gtk-icon-theme-name \
  font-name:gtk-font-name
}

# options passed in to override config
# exec swayidle -w before-sleep swaylock

include /etc/sway/config.d/*

# systemd
# NOTE: sway-session.target needs to be stopped on logout, or service like
# dunst does not properly end and on next login needs to be killed
exec_always "systemctl --user import-environment; systemctl --user start sway-session.target"
