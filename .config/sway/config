# see: /etc/sway/config - man sway

# debug: see if using xwayland
# for_window [shell=".*"] title_format "%title :: %shell"
# 
# NOTE: swayidle, swaybg using systemd
# NOTE: for GTK themes, check ~/.xsettingsd as well

### Variables
#
set $Super Mod4
set $Alt Mod1

# custom includes, depend on variables above
include windows.conf
include keys_custom.conf
include keys_default.conf

### Default Applications
#
set $term kitty
set $menu rofi -show drun
set $laptop_screen 'eDP-1'

# perhaps unnecessary, but might as well
output $laptop_screen subpixel rgb

# Clamshell mode
# NOTE: seems like thinkpad does this in hardware. need to test again and remove
# bindswitch --reload --locked lid:on output $laptop_screen disable
# bindswitch --reload --locked lid:off output $laptop_screen enable

### Input configuration
#
input type:keyboard {
  xkb_layout us
  xkb_variant altgr-intl
}
input type:touchpad {
  natural_scroll enabled
  dwt enabled # disable-while-typing
  tap enabled
}
input type:pointer {
  natural_scroll enabled
  # scroll_factor 2
}

# NOTE: only real use of having this is for whenever a theme is changed, this
# 		way a reload should update... but not sure how much this is helping
exec_always waygsettings \
  gtk-theme:gtk-theme-name \
  icon-theme:gtk-icon-theme-name \
  font-name:gtk-font-name
}

# options passed in to override config
# exec swayidle -w before-sleep swaylock

include /etc/sway/config.d/*

# systemd
exec "systemctl --user import-environment; systemctl --user start sway-session.target"
